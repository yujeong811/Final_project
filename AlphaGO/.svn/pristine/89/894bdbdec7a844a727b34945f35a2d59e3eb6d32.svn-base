<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>


<head>

</head>

<title>과제관리</title>

<body>
	 <!-- Main content -->
<!-- 	<section class="content-header"> -->
<!-- 	  	<div class="container-fluid"> -->
<!-- 	  		<div class="row md-2"> -->
<!-- 	  		</div> -->
<!-- 	  	</div> -->
<!-- 	</section> -->
	 
	 <!-- Main content -->
		<div class="card">
			<section class="content-header">
	  	<div class="container-fluid">
	  		<div class="row md-2">
	  			<div class="col-sm-6">
	  				<h2 style="margin:20px;">과제관리</h2>  				
	  			</div>
	  			<div  class="col-sm-6">
	  				<ol style="float:right; margin:20px;" class="breadcrumb float-sm-right">
			        <li class="breadcrumb-item">
			        	<a href="list.go">
				        	<i class="fa fa-dashboard"></i>수업관리
				        </a>
			        </li>
			        <li class="breadcrumb-item active">
			        	과제관리
			        </li>		        
	    	  </ol>
	  			</div>
	  		</div>
	  	</div>
	</section>
	<hr>
	  		<div id="keyword" class="card-tools" style="">
					<div class="col-md-3" style="float:left;">
						<button data-bs-toggle="modal" data-bs-target="#regist_assign" style="margin-left:20px;" type="button" class="btn btn-primary col-sm-0.6" id="registBtn" >과제등록</button>
					</div>
					<div class="col-md-9" style="float:right;" >
					
					</div>
			</div>
			<div class="card-body">
				<div class="col-md-8" style="float:left; height:280px; overflow: auto;">
				<table class="table table-bordered text-center" >					
					<tr style="font-size:0.85em; background-color: lightgray;">
						<th style="width:25%;">수업명</th>
						<th style="width:25%;">과제명</th>
						<th style="width:15%;">요청일</th>
						<th style="width:15%;">마감일</th>
						<th style="width:10%;">제출율</th>
					</tr>				
								
						<tr style='font-size:0.75em;cursor:pointer;' onclick="OpenWindow('detail.do?from=list&nno=${notice.nno }','상세보기',800,700);">
							<td>수학1 개념완성[기본+심화]</td>
							<td id="boardTitle" style="text-align:center;max-width: 100px; overflow: hidden; 
												white-space: nowrap; text-overflow: ellipsis;">
							삼각함수 문제풀이 p20~24
							</td>			
							<td>2022-06-15</td>
							<td>2022-07-15</td>
							<td>90.3%</td>		
						</tr>
						<tr style='font-size:0.75em;cursor:pointer;' onclick="OpenWindow('detail.do?from=list&nno=${notice.nno }','상세보기',800,700);">
							<td>수학1 개념완성[기본+심화]</td>
							<td id="boardTitle" style="text-align:center;max-width: 100px; overflow: hidden; 
												white-space: nowrap; text-overflow: ellipsis;">
							삼각함수 문제풀이 p20~24
							</td>			
							<td>2022-06-15</td>
							<td>2022-07-15</td>
							<td>90.3%</td>		
						</tr>
						<tr style='font-size:0.75em;cursor:pointer;' onclick="OpenWindow('detail.do?from=list&nno=${notice.nno }','상세보기',800,700);">
							<td>수학1 개념완성[기본+심화]</td>
							<td id="boardTitle" style="text-align:center;max-width: 100px; overflow: hidden; 
												white-space: nowrap; text-overflow: ellipsis;">
							삼각함수 문제풀이 p20~24
							</td>			
							<td>2022-06-15</td>
							<td>2022-07-15</td>
							<td>90.3%</td>		
						</tr>
						<tr style='font-size:0.75em;cursor:pointer;' onclick="OpenWindow('detail.do?from=list&nno=${notice.nno }','상세보기',800,700);">
							<td>수학1 개념완성[기본+심화]</td>
							<td id="boardTitle" style="text-align:center;max-width: 100px; overflow: hidden; 
												white-space: nowrap; text-overflow: ellipsis;">
							삼각함수 문제풀이 p20~24
							</td>			
							<td>2022-06-15</td>
							<td>2022-07-15</td>
							<td>90.3%</td>		
						</tr>
						<tr style='font-size:0.75em;cursor:pointer;' onclick="OpenWindow('detail.do?from=list&nno=${notice.nno }','상세보기',800,700);">
							<td>수학1 개념완성[기본+심화]</td>
							<td id="boardTitle" style="text-align:center;max-width: 100px; overflow: hidden; 
												white-space: nowrap; text-overflow: ellipsis;">
							삼각함수 문제풀이 p20~24
							</td>			
							<td>2022-06-15</td>
							<td>2022-07-15</td>
							<td>90.3%</td>		
						</tr>
						<tr style='font-size:0.75em;cursor:pointer;' onclick="OpenWindow('detail.do?from=list&nno=${notice.nno }','상세보기',800,700);">
							<td>수학1 개념완성[기본+심화]</td>
							<td id="boardTitle" style="text-align:center;max-width: 100px; overflow: hidden; 
												white-space: nowrap; text-overflow: ellipsis;">
							삼각함수 문제풀이 p20~24
							</td>			
							<td>2022-06-15</td>
							<td>2022-07-15</td>
							<td>90.3%</td>		
						</tr>
						<tr style='font-size:0.75em;cursor:pointer;' onclick="OpenWindow('detail.do?from=list&nno=${notice.nno }','상세보기',800,700);">
							<td>수학1 개념완성[기본+심화]</td>
							<td id="boardTitle" style="text-align:center;max-width: 100px; overflow: hidden; 
												white-space: nowrap; text-overflow: ellipsis;">
							삼각함수 문제풀이 p20~24
							</td>			
							<td>2022-06-15</td>
							<td>2022-07-15</td>
							<td>90.3%</td>		
						</tr>
					</table>				
					</div>
					<div class="col-md-3" style="float:right; height:280px; overflow: auto;">
					<table class="table table-bordered text-center" >					
						<tr style="font-size:0.95em; background-color: lightgray;">
							<th style="width: 40%;">원생명</th>
							<th style="width: 60%;">제출상태</th>
						</tr>
						<tr style="font-size:0.75em;cursor:pointer;">
							<td data-bs-toggle="modal" data-bs-target="#student_name" >김성훈</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>손흥민</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>박지성</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>황희찬</td>
							<td><button style="height:20px; line-height:0px; background-color:red;" class="btn btn-primary">미제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>황의조</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>황의조</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>황의조</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>황의조</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>황의조</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>황의조</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
						<tr style="font-size:0.75em;">
							<td>황의조</td>
							<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
						</tr>
					</table>
					</div>
				</div>
			<div class="card-body">
				<hr>
				<div class="col-md-3" style="float:left;">
					<h4>과제정보</h4>
				</div>
				<div class="col-md-9" style="float:right;" >
					<button style="height:20px; line-height:0px; float:right;" class="btn btn-secondary">삭제</button>
					<button style="height:20px; line-height:0px; float:right; margin-right:3px;" class="btn btn-primary">수정</button>
				</div>
				<br>
				<hr>
				<div class="col-md-12">
					<table class="table table-bordered text-center">
						<tr>
							<td style="font-weight:bold; background-color: lightgray;">과제명</td>
							<td><input style="width:100%;" type="text" value="삼각함수 문제풀이 p20~24"></td>
							<td style="font-weight:bold; background-color: lightgray;">마감일</td>
							<td><input type="datetime-local"></td>
						</tr>
						<tr>
							<td colspan="4" rowspan="4">
							<textarea style="float:left;" rows="5" cols="130">늦지않게 과제 제출 하세요~ </textarea>
							</td>
						</tr>
					</table>
				</div>
				<div class="col-md-12">
				파일첨부 : <button id="addFileBtn" onclick="addFile_go();" style="height:20px; line-height:0px;" class="btn btn-primary">ADD</button>
				</div>
				<div style="margin-top:3px;" class="col-md-12">
<!-- 				<div class="mb-3"> -->
<!-- 				  <input class="form-control form-control-sm" id="formFileSm" type="file"> -->
<!-- 				</div> -->
				<button id="addFileBtn" onclick="addFile_go();" style="height:30px; line-height:0px; background-color: chocolate;" class="btn btn-primary">찾아보기</button>
				<i style="cursor:pointer;" class="uil-file-download">과제파일1.pdf</i>
				<i style="cursor:pointer; font-size: 1.5em; margin-left:5px;" class="uil-times-circle"></i>
				</div>
				<div style="margin-top:3px;" class="col-md-12">
				<button id="addFileBtn" onclick="addFile_go();" style="height:30px; line-height:0px; background-color: chocolate;" class="btn btn-primary">찾아보기</button>
				<i style="cursor:pointer;" class="uil-file-download">과제파일2.pdf</i>
				<i style="cursor:pointer; font-size: 1.5em; margin-left:5px;" class="uil-times-circle"></i>
				</div>
			</div>
			<div class="card-footer">
			</div>
		</div>

<!-- Modal -->
<div class="modal fade" id="student_name" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">과제보기</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
      	<table style="height:10px;" class="table table-bordered text-center" >	
      		<tr>
     			<th style="background-color: lightgray; font-weight:bold;">과제명</th>
     			<td>삼각함수 문제풀이 p20~24</td>
     			<td style="background-color: lightgray; font-weight:bold;">제출일</td>
     			<td>2022-06-29 20:32</td>
      		</tr>
      		<tr>
     			<td style="background-color: lightgray; font-weight:bold;">원생명</td>
     			<td>김성훈</td>
     			<td style="background-color: lightgray; font-weight:bold;">제출상태</td>
     			<td><button style="height:20px; line-height:0px;" class="btn btn-primary">제출</button></td>
      		</tr>
      		<tr>
				<td style="text-align:left;" colspan="4" rowspan="4">
				과제 제출합니다~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
				<br>				
				<br>				
				<br>				
				<br>				
				</td>
			</tr>
      	</table>
      	<i style="cursor:pointer;" class="uil-file-download">과제파일1.pdf</i><br>
      	<i style="cursor:pointer;" class="uil-file-download">과제파일2.pdf</i>
      	
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal2 -->
<div class="modal fade" id="regist_assign" tabindex="-1"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-md modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">과제등록</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal"
					aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<select class="form-select">
					<option value="none">수업명</option>
					<option>수학1 개념완성[기본+심화]</option>
					<option>수학2 개념완성[기본+심화]</option>
					<option>미분과 적분 개념완성[기본+심화]</option>
				</select> <input placeholder="과제명" style="margin-top: 7px;"
					class="form-control" type="text"> <input placeholder="작성자"
					style="margin-top: 7px;" class="form-control" type="text">
				<br> <label
					style="width: 47%; font-size: 0.8em; font-weight: bold;">요청일</label>
				<label
					style="width: 45%; margin-left: 20px; font-size: 0.8em; font-weight: bold;">마감일</label>
				<input style="width: 47%; float: left;" type="datetime-local"
					class="form-control"> <input
					style="width: 47%; float: left; margin-left: 20px;"
					type="datetime-local" class="form-control">

				<textarea style="margin-top: 7px;" rows="5" cols="65" placeholder="내용을 입력하세요"></textarea>
				<div class="col-md-12">
				파일첨부 : <button id="addFileBtn" onclick="addFile_go();" style="height:20px; line-height:0px;" class="btn btn-primary">ADD</button>
				</div>
				<div style="margin-top:3px;" class="col-md-12">
				<button id="addFileBtn" onclick="addFile_go();" style="height:30px; line-height:0px; background-color: chocolate;" class="btn btn-primary">찾아보기</button>
				<i style="cursor:pointer;" class="uil-file-download">과제파일1.pdf</i>
				<i style="cursor:pointer; font-size: 1.5em; margin-left:5px;" class="uil-times-circle"></i>
				</div>
				<div style="margin-top:3px;" class="col-md-12">
				<button id="addFileBtn" onclick="addFile_go();" style="height:30px; line-height:0px; background-color: chocolate;" class="btn btn-primary">찾아보기</button>
				<i style="cursor:pointer;" class="uil-file-download">과제파일2.pdf</i>
				<i style="cursor:pointer; font-size: 1.5em; margin-left:5px;" class="uil-times-circle"></i>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary">등록</button>
				<button type="button" class="btn btn-secondary"
					data-bs-dismiss="modal">닫기</button>
			</div>
		</div>
	</div>
</div>


	<c:if test="${from eq 'regist' }">
<script>
	alert("건의글 등록이 성공했습니다.");
	window.opener.location.reload();
	window.close();

</script>
</c:if> 
<script>
var dataNum=0;

function addFile_go(){
	//alert("add file btn");
	if($('input[name="uploadFile"]').length >=5){
		alert("파일추가는 5개까지만 가능합니다.");
		return;
	}
	
	var div=$('<div>').addClass("inputRow").attr("data-no",dataNum);
	var input=$('<input>').attr({"type":"file","name":"uploadFile"}).css("display","inline");
	div.append(input).append("<button onclick='remove_go("+dataNum+");' style='border:0;outline:0;' class='badge bg-red' type='button'>X</button>");
	
	$('.fileInput').append(div);
	
	dataNum++;
}
</script>
    
</body>
    
    
    
    
    
    
    